commit 06faf7e14e9f514153bda6735936bcadf286e42b
Author: Thomas Debesse <dev@illwieckz.net>
Date:   Thu Oct 20 19:12:31 2022 +0200

    patch: luxmark3/luxmark3-luxcore-optionally-disable-image.patch

diff --git a/src/luxrays/idevices/openclidevice.cpp b/src/luxrays/idevices/openclidevice.cpp
index b8b23bbf3..93c2a6ef8 100644
--- a/src/luxrays/idevices/openclidevice.cpp
+++ b/src/luxrays/idevices/openclidevice.cpp
@@ -280,6 +280,10 @@ void OpenCLIntersectionDevice::Start() {
 
 	kernels = nullptr;
 
+	const char* env_disable_image = getenv("LUXCORE_DISABLE_IMAGE");
+	const bool disable_image = (env_disable_image != nullptr && strlen(env_disable_image) != 0);
+	enableImageStorage = (enableImageStorage && !disable_image);
+
 	oclQueues.clear();
 	if (dataParallelSupport) {
 		// Compile all required kernels
